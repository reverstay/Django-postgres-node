<!DOCTYPE html>
<meta charset="utf-8">
<link href="../src/vizwhiz.d3.css" rel="stylesheet" type="text/css">
<style>

body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}

div.tester {
  display: inline-block;
  margin-bottom: -3px;
}

div.test_button {
  display: inline-block;
  width: 75px;
  height: 20px;
  border: 1px solid black;
}

</style>
<body>

<script src="../lib/d3.js"></script>
<script src="../lib/modernizr.custom.js"></script>
<script src="../src/general.js"></script>
<script src="../src/utils.js"></script>
<script src="../src/tooltip.js"></script>
<script src="../src/viz/rings.js"></script>

<script>
    
  format_test = function(obj) {
    return obj.value+"c";
  }
  
  var xn = 7
  var yn = 5
  
  var boxes = xn*yn

  var w = window.innerWidth/xn
  var h = window.innerHeight/yn
  
  vizwhiz.tooltip.create({
    "x": 0,
    "y": 0,
    "fixed": true,
    "width": 200,
    "title": "Animal Products",
    "id": "1"
  })
  
  vizwhiz.tooltip.create({
    "x": 250,
    "y": 0,
    "fixed": true,
    "width": 200,
    "title": "Animal Products",
    "icon": "data/hs_02.png",
    "id": "2"
  })
  
  vizwhiz.tooltip.create({
    "x": 500,
    "y": 0,
    "fixed": true,
    "width": 200,
    "icon": "data/hs_02.png",
    "id": "3"
  })
  
  vizwhiz.tooltip.create({
    "x": 0,
    "y": 100,
    "fixed": true,
    "width": 200,
    "title": "Animal Products",
    "description": "Including Horses and other cool creatures.",
    "id": "4"
  })
  
  vizwhiz.tooltip.create({
    "x": 250,
    "y": 100,
    "fixed": true,
    "width": 200,
    "title": "Animal Products",
    "icon": "data/hs_02.png",
    "description": "Including Horses and other cool creatures.",
    "id": "5"
  })
  
  vizwhiz.tooltip.create({
    "x": 500,
    "y": 100,
    "fixed": true,
    "width": 200,
    "icon": "data/hs_02.png",
    "description": "Including Horses and other cool creatures.",
    "id": "6"
  })
  
  vizwhiz.tooltip.create({
    "x": 750,
    "y": 100,
    "fixed": true,
    "width": "auto",
    "description": "Including Horses and other cool creatures.",
    "id": "7"
  })
  
  vizwhiz.tooltip.create({
    "x": 0,
    "y": 200,
    "fixed": true,
    "width": 200,
    "title": "Animal Products",
    "description": "Including Horses and other cool creatures.",
    "footer": "Click box for more info",
    "id": "8"
  })
  
  vizwhiz.tooltip.create({
    "x": 250,
    "y": 200,
    "fixed": true,
    "width": 200,
    "title": "Animal Products",
    "icon": "data/hs_02.png",
    "description": "Including Horses and other cool creatures.",
    "footer": "Click box for more info",
    "id": "9"
  })
  
  vizwhiz.tooltip.create({
    "x": 500,
    "y": 200,
    "fixed": true,
    "width": 200,
    "icon": "data/hs_02.png",
    "description": "Including Horses and other cool creatures.",
    "footer": "Click box for more info",
    "id": "10"
  })
  
  vizwhiz.tooltip.create({
    "x": 750,
    "y": 200,
    "fixed": true,
    "width": "auto",
    "description": "Including Horses and other cool creatures.",
    "footer": "Click box for more info",
    "id": "11"
  })
  
  vizwhiz.tooltip.create({
    "x": 0,
    "y": 300,
    "fixed": true,
    "width": 200,
    "title": "Animal Products",
    "footer": "Click box for more info",
    "id": "12"
  })
  
  vizwhiz.tooltip.create({
    "x": 250,
    "y": 300,
    "fixed": true,
    "width": 200,
    "title": "Animal Products",
    "icon": "data/hs_02.png",
    "footer": "Click box for more info",
    "id": "13"
  })
  
  vizwhiz.tooltip.create({
    "x": 500,
    "y": 300,
    "fixed": true,
    "width": 200,
    "icon": "data/hs_02.png",
    "footer": "Click box for more info",
    "id": "14"
  })
  
  vizwhiz.tooltip.create({
    "x": 750,
    "y": 300,
    "fixed": true,
    "width": "auto",
    "footer": "Click box for more info",
    "id": "15"
  })
  
  vizwhiz.tooltip.create({
    "title": "Animal Products",
    "description": "Including Horses and other cool creatures.",
    "icon": "data/hs_02.png",
    "id": "023",
    "x": 250,
    "y": 0,
    "fixed": true,
    "width": 200,
    "offset": 5,
    "mouseevents": false,
    "footer": "Click box for more info",
    "data": [{"name":"Trade Value for this other string thing.","value":"4000000","format":",f","highlight":true},
             {"name":"Complexity of this very long string.","value":"0.89","format":format_test}]
  })
  
  d3.select("body").append("div")
    .style("display","block")
    .style("position","absolute")
    .style("width","50px")
    .style("height","50px")
    .style("top","600px")
    .style("left","600px")
    .style("background-color","red")
    .on(vizwhiz.evt.over,function(d){
      vizwhiz.tooltip.create({
        "title": "Animal Products",
        "description": "Including Horses and other cool creatures.",
        "color": this.style.backgroundColor,
        "icon": "data/hs_02.png",
        "id": "tester",
        "x": 625,
        "y": 605,
        "width": "auto",
        "offset": 0,
        "arrow": true,
        "mouseevents": this,
        "footer": "Click box for more info",
        "data": [{"name":"Trade Value","value":"4000000","format":",f","highlight":true},
                 {"name":"Complexity","value":"0.89","format":format_test}],
        "html": "<div class='filter_buttons'>\
                <div onclick='key_filter()' class='test_button'>Hide Group</div>\
                <div onclick='key_solo()' class='test_button'>Solo Group</div>\
              </div>"
      })
      
    })
    .on(vizwhiz.evt.out,function(d){
        vizwhiz.tooltip.remove("tester")
    })
  
  // while (boxes > 0) {
  //   d3.select("body").append("div")
  //     .attr("id","box_"+boxes)
  //     .attr("class","tester")
  //     .style("width",w+"px")
  //     .style("height",h+"px")
  //     .style("background-color",vizwhiz.utils.rand_color())
  //     .on(vizwhiz.evt.over,function(d){
  //       
  //       vizwhiz.tooltip.create({
  //         "title": "Animal Products",
  //         "description": "Including Horses and other cool creatures.",
  //         "color": this.style.backgroundColor,
  //         "icon": "data/hs_02.png",
  //         "id": this.id,
  //         "x": d3.event.pageX,
  //         "y": d3.event.pageY,
  //         "width": "auto",
  //         "offset": 5,
  //         "arrow": true,
  //         "mouseevents": false,
  //         "footer": "Click box for more info",
  //         "data": [{"name":"Trade Value","value":"4000000","format":",f","highlight":true},
  //                  {"name":"Complexity","value":"0.89","format":format_test}]
  //       })
  //       
  //     })
  //     .on(vizwhiz.evt.move,function(d){
  //       // vizwhiz.tooltip.move(d3.event.pageX,d3.event.pageY,this.id)
  //     })
  //     .on(vizwhiz.evt.out,function(d){
  //       var target = d3.event.toElement
  //       var class_name = target ? target.className : ""
  //       if (class_name.indexOf("vizwhiz_tooltip") < 0) {
  //         vizwhiz.tooltip.remove(this.id)
  //       }
  //     })
  //     .on(vizwhiz.evt.click,function(d){
  // 
  //       vizwhiz.tooltip.remove(this.id)
  //       
  //       vizwhiz.tooltip.create({
  //         "title": "Animal Products",
  //         "color": this.style.backgroundColor,
  //         "icon": "data/hs_02.png",
  //         "id": this.id,
  //         "fullscreen": true,
  //         "html": "I'm some <b>BOLD</b> html text",
  //         "footer": "Data provided by SECEX",
  //         "data": [{"name":"Trade Value","value":"4000000","format":",f","highlight":true},
  //                  {"name":"Complexity","value":"0.89","format":format_test}]
  //       })
  //       
  //     })
  //   boxes--
  // }

</script>